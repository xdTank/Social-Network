"use strict";(self.webpackChunkfirst_project=self.webpackChunkfirst_project||[]).push([[920],{3540:(e,s,t)=>{t.r(s),t.d(s,{ProfileContainer:()=>U});var l=t(9060);const i="ProfileInfo_ava__2kiHq",o="ProfileInfo_profileBlock__nMvag",r="ProfileInfo_contacts__jqWMI";var n=t(1472),a=t(4992),c=t(4745),d=t(2496);const x=e=>{let[s,t]=(0,l.useState)(!1),[i,o]=(0,l.useState)(e.status);const r=(0,a.OY)();(0,l.useEffect)((()=>{o(e.status)}),[e.status]);return(0,d.jsxs)("div",{style:{color:"#DBDEE1"},children:[!s&&(0,d.jsxs)("div",{children:[(0,d.jsx)("b",{children:"Status"}),": ",(0,d.jsx)("span",{onDoubleClick:()=>{t(!0)},children:e.status||"-"})]}),s&&(0,d.jsx)("div",{children:(0,d.jsx)("input",{onChange:e=>{o(e.currentTarget.value)},autoFocus:!0,onBlur:()=>{t(!1),r((0,c.u6)(i))},value:i})})]})};var p=t(6948),h=t(7484),u=t(9200),j=t(2464),f=t(9104),m=t(456),g=t(9696),v=t(1064),y=t(2528);const b=()=>{const[e,s]=(0,l.useState)(!1),[t,i]=(0,l.useState)(),o=(0,a.OY)(),r=(0,d.jsxs)("button",{style:{border:0,background:"none"},type:"button",children:[e?(0,d.jsx)(m.c,{}):(0,d.jsx)(g.c,{}),(0,d.jsx)("div",{style:{marginTop:8},children:"Upload"})]});return(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(y.c,{name:"avatar",listType:"picture-circle",className:"avatar-uploader",showUploadList:!1,action:"https://run.mocky.io/v3/435e224c-44fb-4773-9faf-380c5e6a2188",beforeUpload:e=>{const s="image/jpeg"===e.type||"image/png"===e.type;s||v.cp.error("You can only upload JPG/PNG file!");const t=e.size/1024/1024<2;return t||v.cp.error("Image must smaller than 2MB!"),e&&o((0,c.Eb)(e)),s&&t},onChange:e=>{"uploading"!==e.file.status?"done"===e.file.status&&((e,s)=>{const t=new FileReader;t.addEventListener("load",(()=>s(t.result))),t.readAsDataURL(e)})(e.file.originFileObj,(()=>{s(!1)})):s(!0)},children:t?(0,d.jsx)("img",{src:t,alt:"avatar",style:{width:"100%"}}):r})})},{TextArea:k}=h.default,w=e=>{let{profile:s,setEditMode:t,isOwner:l}=e;const i=(0,a.OY)();return(0,d.jsxs)(u.c,{name:"profile_form",initialValues:{fullName:s.fullName,aboutMe:s.aboutMe,lookingForAJob:s.lookingForAJob,lookingForAJobDescription:s.lookingForAJobDescription,contacts:s.contacts,photos:s.photos,userId:s.userId},onFinish:e=>{i((0,c.BV)(e)).then((()=>{t(!1)}))},layout:"vertical",children:[(0,d.jsx)(u.c.Item,{children:(0,d.jsx)("div",{style:{display:"flex",alignItems:"center",gap:"20px",maxWidth:"400px"},children:(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"20px"},children:[(0,d.jsx)("img",{src:s.photos.large||p,alt:"!",style:{width:"120px",height:"120px"}}),l&&(0,d.jsx)(b,{})]}),(0,d.jsx)("b",{children:"Full Name"}),": ",(0,d.jsx)(u.c.Item,{name:"fullName",noStyle:!0,children:(0,d.jsx)(h.default,{placeholder:"Full name"})}),(0,d.jsx)("b",{children:"Looking for a job"}),": ",(0,d.jsx)(u.c.Item,{name:"lookingForAJob",valuePropName:"checked",noStyle:!0,children:(0,d.jsx)(j.c,{})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("b",{children:"Description"}),": ",(0,d.jsx)(u.c.Item,{name:"lookingForAJobDescription",children:(0,d.jsx)(k,{rows:4})})]}),(0,d.jsx)("b",{children:"About me"}),": ",(0,d.jsx)(u.c.Item,{name:"aboutMe",noStyle:!0,children:(0,d.jsx)(k,{rows:4,placeholder:"About me"})}),(0,d.jsx)("b",{children:"Contacts"}),":",Object.keys(s.contacts).map((e=>(0,d.jsx)(u.c.Item,{name:["contacts",e],noStyle:!0,children:(0,d.jsx)(h.default,{placeholder:e})},e)))]})})}),(0,d.jsx)(u.c.Item,{children:(0,d.jsx)(f.cp,{htmlType:"submit",style:{backgroundColor:"#fff"},children:"Save"})})]})},I=e=>e.profilePage.profile,C=e=>e.profilePage.status,F=e=>{let{profile:s,isOwner:t,onEditMode:l}=e;return(0,d.jsxs)("div",{style:{color:"#DBDEE1"},children:[(0,d.jsx)("div",{style:{display:"flex",alignItems:"center",gap:"20px"},children:s.fullName}),(0,d.jsxs)("div",{style:{},children:[(0,d.jsx)("b",{children:"Looking for a job"}),":  ",s.lookingForAJob?"yes":"no"]}),s.lookingForAJob&&(0,d.jsx)("div",{children:s.lookingForAJobDescription}),(0,d.jsx)("div",{children:s.aboutMe}),Object.keys(s.contacts).length>0&&(0,d.jsxs)("div",{children:[(0,d.jsx)("b",{children:"Contacts"}),":  ",Object.keys(s.contacts).map((e=>s.contacts[e]?(0,d.jsx)(A,{contactTitle:e,contactValue:s.contacts[e]},e):null))]}),(0,d.jsx)("div",{style:{margin:"20px"},children:t&&(0,d.jsx)(f.cp,{onClick:l,style:{width:"100px",backgroundColor:"#fff"},size:"small",children:"Edit profile"})})]})},A=e=>{let{contactTitle:s,contactValue:t}=e;return(0,d.jsxs)("div",{className:r,children:[(0,d.jsx)("b",{children:s}),": ",t]})},O=e=>{let{isOwner:s}=e;const t=(0,a.w1)(I),r=(0,a.w1)(C);let[c,h]=(0,l.useState)(!1);return t?(0,d.jsx)("div",{className:o,children:(0,d.jsxs)("div",{className:i,style:{display:"flex",justifyContent:"flex-start",alignItems:"center",gap:"50px"},children:[(0,d.jsxs)("div",{children:[!c&&(0,d.jsx)("img",{src:t.photos.large||p,alt:"!"}),(0,d.jsx)("div",{style:{textAlign:"center"},children:!c&&(0,d.jsx)(x,{status:r})})]}),(0,d.jsx)("div",{children:c?(0,d.jsx)(w,{setEditMode:h,profile:t,isOwner:s}):(0,d.jsxs)("div",{children:[" ",(0,d.jsx)(F,{profile:t,isOwner:s,onEditMode:()=>{h(!0)}})," "]})})]})}):(0,d.jsx)(n.c,{})},_="Myposts_posts__Khf9Q";var E=t(3664);const P=l.memo((()=>{let e=[...(0,a.w1)((e=>e.profilePage.posts))].reverse().map((e=>(0,d.jsx)(D,{massege:e.massege,likeCount:e.likeCount,id:0})));return(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{style:{display:"flex",borderTop:"1px solid grey"},children:(0,d.jsx)("div",{style:{paddingTop:"20px",marginLeft:"50px"},children:(0,d.jsx)(M,{})})}),(0,d.jsx)("div",{className:_,style:{height:"500px",overflowY:"auto"},children:e})]})})),D=e=>{const s=(0,a.w1)(I);return(0,d.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"10px",margin:"25px"},children:[(0,d.jsx)("img",{src:(null===s||void 0===s?void 0:s.photos.large)||p,alt:"!",style:{width:"50px",borderRadius:"50%"}}),(0,d.jsx)("div",{style:{height:"40px",textAlign:"center",alignItems:"center",display:"flex",padding:"5px",color:"#fff"},children:e.massege}),(0,d.jsxs)("div",{style:{color:"#fff"},children:[(0,d.jsx)(E.c,{}),e.likeCount]})]})},M=()=>{const e=(0,a.OY)(),[s]=u.c.useForm();return(0,d.jsx)(u.c,{form:s,name:"myPost_form",onFinish:t=>{e(c.ay.addPostActionCreator(t.newPostText)),s.resetFields()},autoComplete:"off",children:(0,d.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[(0,d.jsx)(u.c.Item,{name:"newPostText",children:(0,d.jsx)(h.default,{placeholder:"Yuor post",size:"small",allowClear:!0})}),(0,d.jsx)(u.c.Item,{children:(0,d.jsx)(f.cp,{style:{backgroundColor:"#fff"},size:"small",htmlType:"submit",children:"Add posts"})})]})})},N=P,S=e=>(0,d.jsxs)("div",{children:[(0,d.jsx)(O,{isOwner:e.isOwner}),(0,d.jsx)(N,{})]});var T=t(1560),J=t(2416);const U=()=>{const e=(0,a.w1)(J.u0),s=(0,a.w1)(J.CK),t=(0,T.i6)(),i=(0,a.OY)(),{userId:o}=(0,T.W4)();return(0,l.useEffect)((()=>{o!==e&&(()=>{let s=o;s||(s=null===e||void 0===e?void 0:e.toString()),s?(i((0,c.mU)(+s)),i((0,c.g3)(+s))):console.error("ID \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u043e\u0432\u0430\u0442\u044c \u0432 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430\u0445 URI \u0438\u043b\u0438 \u0432 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0438 ('authorizedUserId')")})()}),[o,e,c.mU,c.g3]),(0,l.useEffect)((()=>{s||t("/login")}),[s,t]),(0,d.jsx)(S,{isOwner:!o})}}}]);
//# sourceMappingURL=920.0f46603f.chunk.js.map