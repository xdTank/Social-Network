"use strict";(self.webpackChunkfirst_project=self.webpackChunkfirst_project||[]).push([[186],{1186:(e,s,t)=>{t.r(s),t.d(s,{ProfileContainer:()=>B});var l=t(5043);const o="ProfileInfo_ava__ZCDod",i="ProfileInfo_profileBlock__2gWxf",r="ProfileInfo_contacts__QD49f";var n=t(1820),a=t(9456),c=t(797),d=t(579);const x=e=>{let[s,t]=(0,l.useState)(!1),[o,i]=(0,l.useState)(e.status);const r=(0,a.wA)();(0,l.useEffect)((()=>{i(e.status)}),[e.status]);return(0,d.jsxs)("div",{style:{color:"#DBDEE1"},children:[!s&&(0,d.jsxs)("div",{children:[(0,d.jsx)("b",{children:"Status"}),": ",(0,d.jsx)("span",{onDoubleClick:()=>{t(!0)},children:e.status||"-"})]}),s&&(0,d.jsx)("div",{children:(0,d.jsx)("input",{onChange:e=>{i(e.currentTarget.value)},autoFocus:!0,onBlur:()=>{t(!1),r((0,c.yB)(o))},value:o})})]})};var p=t(671),h=t(4460),j=t(4e3),u=t(7110),f=t(8223),m=t(164),g=t(5337),y=t(6433),v=t(9005);const A=()=>{const[e,s]=(0,l.useState)(!1),[t,o]=(0,l.useState)(),i=(0,a.wA)(),r=(0,d.jsxs)("button",{style:{border:0,background:"none"},type:"button",children:[e?(0,d.jsx)(m.A,{}):(0,d.jsx)(g.A,{}),(0,d.jsx)("div",{style:{marginTop:8},children:"Upload"})]});return(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(v.A,{name:"avatar",listType:"picture-circle",className:"avatar-uploader",showUploadList:!1,action:"https://run.mocky.io/v3/435e224c-44fb-4773-9faf-380c5e6a2188",beforeUpload:e=>{const s="image/jpeg"===e.type||"image/png"===e.type;s||y.Ay.error("You can only upload JPG/PNG file!");const t=e.size/1024/1024<2;return t||y.Ay.error("Image must smaller than 2MB!"),e&&i((0,c.Ah)(e)),s&&t},onChange:e=>{"uploading"!==e.file.status?"done"===e.file.status&&((e,s)=>{const t=new FileReader;t.addEventListener("load",(()=>s(t.result))),t.readAsDataURL(e)})(e.file.originFileObj,(()=>{s(!1)})):s(!0)},children:t?(0,d.jsx)("img",{src:t,alt:"avatar",style:{width:"100%"}}):r})})},{TextArea:b}=h.A,k=e=>{let{profile:s,setEditMode:t,isOwner:l}=e;const o=(0,a.wA)();return(0,d.jsxs)(j.A,{name:"profile_form",initialValues:{fullName:s.fullName,aboutMe:s.aboutMe,lookingForAJob:s.lookingForAJob,lookingForAJobDescription:s.lookingForAJobDescription,contacts:s.contacts,photos:s.photos,userId:s.userId},onFinish:e=>{o((0,c.Lt)(e)).then((()=>{t(!1)}))},layout:"vertical",children:[(0,d.jsx)(j.A.Item,{children:(0,d.jsx)("div",{style:{display:"flex",alignItems:"center",gap:"20px",maxWidth:"400px"},children:(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"20px"},children:[(0,d.jsx)("img",{src:s.photos.large||p,alt:"!",style:{width:"120px",height:"120px"}}),l&&(0,d.jsx)(A,{})]}),(0,d.jsx)("b",{children:"Full Name"}),": ",(0,d.jsx)(j.A.Item,{name:"fullName",noStyle:!0,children:(0,d.jsx)(h.A,{placeholder:"Full name"})}),(0,d.jsx)("b",{children:"Looking for a job"}),": ",(0,d.jsx)(j.A.Item,{name:"lookingForAJob",valuePropName:"checked",noStyle:!0,children:(0,d.jsx)(u.A,{})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("b",{children:"Description"}),": ",(0,d.jsx)(j.A.Item,{name:"lookingForAJobDescription",children:(0,d.jsx)(b,{rows:4})})]}),(0,d.jsx)("b",{children:"About me"}),": ",(0,d.jsx)(j.A.Item,{name:"aboutMe",noStyle:!0,children:(0,d.jsx)(b,{rows:4,placeholder:"About me"})}),(0,d.jsx)("b",{children:"Contacts"}),":",Object.keys(s.contacts).map((e=>(0,d.jsx)(j.A.Item,{name:["contacts",e],noStyle:!0,children:(0,d.jsx)(h.A,{placeholder:e})},e)))]})})}),(0,d.jsx)(j.A.Item,{children:(0,d.jsx)(f.Ay,{htmlType:"submit",style:{backgroundColor:"#fff"},children:"Save"})})]})},w=e=>e.profilePage.profile,I=e=>e.profilePage.status,C=e=>{let{profile:s,isOwner:t,onEditMode:l}=e;return(0,d.jsxs)("div",{style:{color:"#DBDEE1"},children:[(0,d.jsx)("div",{style:{display:"flex",alignItems:"center",gap:"20px"},children:s.fullName}),(0,d.jsxs)("div",{style:{},children:[(0,d.jsx)("b",{children:"Looking for a job"}),":  ",s.lookingForAJob?"yes":"no"]}),s.lookingForAJob&&(0,d.jsx)("div",{children:s.lookingForAJobDescription}),(0,d.jsx)("div",{children:s.aboutMe}),Object.keys(s.contacts).length>0&&(0,d.jsxs)("div",{children:[(0,d.jsx)("b",{children:"Contacts"}),":  ",Object.keys(s.contacts).map((e=>s.contacts[e]?(0,d.jsx)(F,{contactTitle:e,contactValue:s.contacts[e]},e):null))]}),(0,d.jsx)("div",{style:{margin:"20px"},children:t&&(0,d.jsx)(f.Ay,{onClick:l,style:{width:"100px",backgroundColor:"#fff"},size:"small",children:"Edit profile"})})]})},F=e=>{let{contactTitle:s,contactValue:t}=e;return(0,d.jsxs)("div",{className:r,children:[(0,d.jsx)("b",{children:s}),": ",t]})},_=e=>{let{isOwner:s}=e;const t=(0,a.d4)(w),r=(0,a.d4)(I);let[c,h]=(0,l.useState)(!1);return t?(0,d.jsx)("div",{className:i,children:(0,d.jsxs)("div",{className:o,style:{display:"flex",justifyContent:"flex-start",alignItems:"center",gap:"50px"},children:[(0,d.jsxs)("div",{children:[!c&&(0,d.jsx)("img",{src:t.photos.large||p,alt:"!"}),(0,d.jsx)("div",{style:{textAlign:"center"},children:!c&&(0,d.jsx)(x,{status:r})})]}),(0,d.jsx)("div",{children:c?(0,d.jsx)(k,{setEditMode:h,profile:t,isOwner:s}):(0,d.jsxs)("div",{children:[" ",(0,d.jsx)(C,{profile:t,isOwner:s,onEditMode:()=>{h(!0)}})," "]})})]})}):(0,d.jsx)(n.A,{})},D="Myposts_posts__ShD1j";var S=t(4197);const P=l.memo((()=>{let e=[...(0,a.d4)((e=>e.profilePage.posts))].reverse().map((e=>(0,d.jsx)(E,{massege:e.massege,likeCount:e.likeCount,id:0})));return(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{style:{display:"flex",borderTop:"1px solid grey"},children:(0,d.jsx)("div",{style:{paddingTop:"20px",marginLeft:"50px"},children:(0,d.jsx)(N,{})})}),(0,d.jsx)("div",{className:D,style:{height:"500px",overflowY:"auto"},children:e})]})})),E=e=>{const s=(0,a.d4)(w);return(0,d.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"10px",margin:"25px"},children:[(0,d.jsx)("img",{src:(null===s||void 0===s?void 0:s.photos.large)||p,alt:"!",style:{width:"50px",borderRadius:"50%"}}),(0,d.jsx)("div",{style:{height:"40px",textAlign:"center",alignItems:"center",display:"flex",padding:"5px",color:"#fff"},children:e.massege}),(0,d.jsxs)("div",{style:{color:"#fff"},children:[(0,d.jsx)(S.A,{}),e.likeCount]})]})},N=()=>{const e=(0,a.wA)(),[s]=j.A.useForm();return(0,d.jsx)(j.A,{form:s,name:"myPost_form",onFinish:t=>{e(c.o1.addPostActionCreator(t.newPostText)),s.resetFields()},autoComplete:"off",children:(0,d.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[(0,d.jsx)(j.A.Item,{name:"newPostText",children:(0,d.jsx)(h.A,{placeholder:"Yuor post",size:"small",allowClear:!0})}),(0,d.jsx)(j.A.Item,{children:(0,d.jsx)(f.Ay,{style:{backgroundColor:"#fff"},size:"small",htmlType:"submit",children:"Add posts"})})]})})},M=P,O=e=>(0,d.jsxs)("div",{children:[(0,d.jsx)(_,{isOwner:e.isOwner}),(0,d.jsx)(M,{})]});var T=t(3216),J=t(9171);const B=()=>{const e=(0,a.d4)(J.i5),s=(0,a.d4)(J.BN),t=(0,T.Zp)(),o=(0,a.wA)(),{userId:i}=(0,T.g)();return(0,l.useEffect)((()=>{i!==e&&(()=>{let s=i;s||(s=null===e||void 0===e?void 0:e.toString()),s?(o((0,c.VM)(+s)),o((0,c.BS)(+s))):console.error("ID \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u043e\u0432\u0430\u0442\u044c \u0432 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430\u0445 URI \u0438\u043b\u0438 \u0432 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0438 ('authorizedUserId')")})()}),[i,e,c.VM,c.BS]),(0,l.useEffect)((()=>{s||t("/login")}),[s,t]),(0,d.jsx)(O,{isOwner:!i})}}}]);
//# sourceMappingURL=186.36915b32.chunk.js.map