"use strict";(self.webpackChunkfirst_project=self.webpackChunkfirst_project||[]).push([[39],{5039:(s,t,e)=>{e.r(t),e.d(t,{default:()=>D});var r=e(2791);const o="ProfileInfo_ava__2kiHq",a="ProfileInfo_profileBlock__nMvag",i="ProfileInfo_descriptionBlock__2rsaS";var n=e(5397),l=e(184);const u=s=>{let[t,e]=(0,r.useState)(!1),[o,a]=(0,r.useState)(s.status);(0,r.useEffect)((()=>{a(s.status)}),[s.status]);return(0,l.jsxs)("div",{children:[!t&&(0,l.jsx)("div",{children:(0,l.jsx)("span",{onDoubleClick:()=>{e(!0)},children:s.status||"-"})}),t&&(0,l.jsx)("div",{children:(0,l.jsx)("input",{onChange:s=>{a(s.currentTarget.value)},autoFocus:!0,onBlur:()=>{e(!1),s.updateStatus(o)},value:o})})]})};var d=e(4379);const p=s=>{let{profile:t,status:e,updateStatus:r}=s;return t?(0,l.jsxs)("div",{className:a,children:[(0,l.jsx)("div",{className:o,children:(0,l.jsx)("img",{src:null!=t.photos.large?t.photos.large:d,alt:""})}),(0,l.jsx)("div",{className:i,children:(0,l.jsx)(u,{status:e,updateStatus:r})})]}):(0,l.jsx)(n.Z,{})};var c=e(6508);const h="Myposts_posts__Khf9Q",x="Myposts_postsBlock__8xARZ",j="Myposts_likeCountBlock__xoDkI",f="Myposts_massegeBlock__MX3J-";var m=e(6139),v=e(704),_=e(5304),g=e(3655);const k=s=>(0,l.jsxs)("div",{className:j,children:[(0,l.jsx)("img",{src:d,alt:"!"}),(0,l.jsx)("div",{className:f,children:s.massege}),(0,l.jsx)("div",{className:"likeCount",children:s.likeCount})]}),P=r.memo((s=>{let t=[...s.posts].reverse().map((s=>(0,l.jsx)(k,{massege:s.massege,likeCount:s.likeCount})));return(0,l.jsxs)("div",{className:x,children:[(0,l.jsx)("div",{children:(0,l.jsx)("h3",{children:"My posts"})}),(0,l.jsx)("div",{children:(0,l.jsx)(S,{onSubmit:t=>{s.addPost(t.newPostText)}})}),(0,l.jsx)("div",{className:h,children:t})]})})),S=(0,v.Z)({form:"ProfileAddNewPostForm"})((s=>(0,l.jsxs)("form",{onSubmit:s.handleSubmit,children:[(0,l.jsx)(m.Z,{name:"newPostText",component:g.Kx,validate:[_.C,(0,_.D)(10)]}),(0,l.jsx)("button",{children:"Add posts"})]}))),C=P;var A=e(8687);const N=(0,A.$j)((s=>({posts:s.profilePage.posts,newPostText:s.profilePage.newPostText})),(s=>({addPost:t=>{s((0,c.Wl)(t))}})))(C),I=s=>(0,l.jsxs)("div",{children:[(0,l.jsx)(p,{profile:s.profile,status:s.status,updateStatus:s.updateStatus}),(0,l.jsx)(N,{})]});var M=e(7689),b=e(1548),w=e(9050);class B extends r.Component{componentDidMount(){let s=this.props.userId;s||(s=this.props.authorizedUserId,s||(M.Z5,M.AW,M.Fg)),this.props.getUserProfile(s),this.props.getStatus(s)}render(){return(0,l.jsx)(I,{...this.props,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus})}}const D=(0,w.qC)((0,A.$j)((function(s){return{profile:s.profilePage.profile,status:s.profilePage.status,authorizedUserId:s.auth.id,isAuth:s.auth.isAuth,userId:s.auth.id}}),{getUserProfile:c.et,getStatus:c.lR,updateStatus:c.Nf}),(s=>t=>{const e=(0,M.UO)();return(0,l.jsx)(s,{...t,params:e})}),b.D)(B)},1548:(s,t,e)=>{e.d(t,{D:()=>l});var r=e(2791),o=e(8687),a=e(7689),i=e(184);function n(s){return{isAuth:s.auth.isAuth}}const l=s=>{class t extends r.Component{render(){return this.props.isAuth?(0,i.jsx)(s,{...this.props}):(0,i.jsx)(a.Z5,{children:(0,i.jsx)(a.AW,{path:"*",element:(0,i.jsx)(a.Fg,{to:"/login"})})})}}return(0,o.$j)(n)(t)}}}]);
//# sourceMappingURL=39.e27ce7d7.chunk.js.map